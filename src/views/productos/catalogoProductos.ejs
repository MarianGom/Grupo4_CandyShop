<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos</title>
    <link rel="shortcut icon" href="/img/favicon.png" type="image/png">

    <link rel="stylesheet" href="/css/room.css">
    <link rel="stylesheet" href="/css/general.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- JS -->
    <script src="/js/menu.js"></script>
    <script src="/js/banner.js"></script>
</head>

<body>

    <%- include('../partials/nav') %>

    <main>
        <!-- Slider -->
        <div id="banner">
            <div class="bannerNav">
                <button id="btn-banner1" class="bannerBtn-activo" onclick="changeBanner(1)">
                </button>

                <button id="btn-banner2" class="bannerBtn" onclick="changeBanner(2)">
                </button>

                <button id="btn-banner3" class="bannerBtn" onclick="changeBanner(3)">
                </button>
            </div>
        </div>
        
        <section class="bars"> 
            <div class="centrar">
                <div class="dropdown">
                    <div class="select-cat">
                        <button class="dropbtn">Categorias</button>
                        <div class="dropdown-content">
                            <a href="/productos/list/0">Todos</a>
                            <% categorias.forEach(element => {%>
                                <a href="/productos/list/0/<%= element.id %>" class="dropdown-item">
                                    <li>
                                        <%= element.nombre%>
                                    </li>
                                </a>
                            <%});%>
                        </div>
                    </div>
                </div>
            </div>

            <div class="productos">
                <% products.forEach(product => { %>
                    <article class="golosina">
                        <a href="/productos/detail/<%= product.id %>">
                            <% if (product.fotoProd != null) {%>
                                <img src="/img/productos/<%= product.fotoProd %>" alt="">
                            <%} else {%>
                                <img src="/img/productos/NoPic.png" alt="">
                            <%}%>
                            <div class="detail">
                                <div class="subtitulo"> <%= product.dataValues.categoria %> </div>
                                <div class=""> <%= product.nombre %> </div>
                                <div class=""> <%= product.sabor %> </div>  
                            </div>                  
                        </a>
                            
                        <div class="catalog-form">
                            <form method="post">
                                <div class="precio">
                                    <p class="subtitulo">Precio:</p>
                                    $ <%= product.precio %> c/u
                                </div>
                                <div class="input-button-add"> 
                                    <input type="text" placeholder="1"> 
                                    <button class="add-to-cart" type="submit">
                                        <i class="bi bi-cart-plus"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </article>
                <% }) %>
            </div>

        </section>

        <div class="paginacion">
            <ul class="page-numbers">
                <% if (paginaActual>=1) {%>
                    <li><a href="/productos/list/<%= paginaActual-1 %>"><i class="bi bi-chevron-left active"></i></a></li>
                <% }else{ %>
                    <li><i class="bi bi-chevron-left noactive"></i></li>

                <%} paginas.forEach(pagina => { %>
                    <% if (paginaActual == pagina) {%>
                        <li class="noactive">
                            <%= pagina + 1 %>
                        </li>
                    <% }else{ %>
                    <li>
                        <a href="/productos/list/<%=pagina%>">
                            <%= pagina + 1 %>
                        </a>
                    </li>
                    <% } %>
                <% }) %>

                <% if (paginaActual <= (paginas.length-2)) {%>
                    <li><a href="/productos/list/<%= paginaActual+1 %>"><i class="bi bi-chevron-right active"></i></a></li>
                <% }else{ %>
                    <li><i class="bi bi-chevron-right noactive"></i></li>
                <% } %>
            </ul>
        </div>

    </main>


    <%- include('../partials/footer') %>
</body>

</html>